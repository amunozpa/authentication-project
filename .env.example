# ============================================================
# SERVIDOR
# ============================================================
PORT=3000
NODE_ENV=development
FRONTEND_URL=http://localhost:3000

# ============================================================
# JWT — Tokens de Acceso y Refresco
# ============================================================
# Mínimo 32 caracteres. Generar con: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=cambia_esto_por_un_secreto_de_minimo_32_caracteres_en_hex

JWT_EXPIRY_ACCESS=15m
JWT_EXPIRY_REFRESH=7d

# ============================================================
# PRIVACIDAD — GDPR
# ============================================================
# Salt para hashing de IPs con SHA-256. Las IPs nunca se guardan en claro.
# Generar con: node -e "console.log(require('crypto').randomBytes(16).toString('hex'))"
IP_HASH_SALT=cambia_esto_por_un_salt_aleatorio

# ============================================================
# OAUTH — GitHub
# ============================================================
# Registrar en: GitHub → Settings → Developer settings → OAuth Apps → New OAuth App
# Homepage URL: http://localhost:3000
# Callback URL: http://localhost:3000/api/v1/auth/oauth/github/callback
GITHUB_CLIENT_ID=tu_github_client_id
GITHUB_CLIENT_SECRET=tu_github_client_secret
GITHUB_CALLBACK_URL=http://localhost:3000/api/v1/auth/oauth/github/callback

# ============================================================
# OAUTH — Google
# ============================================================
# Registrar en: https://console.cloud.google.com
# APIs & Services → Credentials → Create OAuth 2.0 Client ID (Web application)
# Authorized redirect URI: http://localhost:3000/api/v1/auth/oauth/google/callback
# Agregar tu email como Test user en OAuth consent screen
GOOGLE_CLIENT_ID=tu_google_client_id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=tu_google_client_secret
GOOGLE_CALLBACK_URL=http://localhost:3000/api/v1/auth/oauth/google/callback

# ============================================================
# OAUTH — Client Credentials Grant (M2M — Máquina a Máquina)
# ============================================================
# Credenciales para el demo de Client Credentials. No requieren registro externo.
# Generar con: node -e "console.log(require('crypto').randomBytes(24).toString('hex'))"
M2M_CLIENT_ID=m2m_demo_client_id
M2M_CLIENT_SECRET=cambia_esto_por_un_secreto_m2m_seguro

# ============================================================
# EMAIL — Gmail SMTP (Nodemailer)
# ============================================================
# Requisito: Gmail con Verificación en 2 Pasos activada.
# App Password: Manage Google Account → Security → App Passwords → Mail → Other
# IMPORTANTE: Pedir al usuario en Fase 5.6 antes de implementar envío real.
GMAIL_USER=tu_correo@gmail.com
GMAIL_APP_PASSWORD=xxxx_xxxx_xxxx_xxxx

# ============================================================
# PASETO v4 — Claves Ed25519 (generadas automáticamente en Fase 5.10)
# ============================================================
# Si estas variables están vacías al arrancar en Fase 5.10, el servidor:
#   1. Genera el par de claves Ed25519
#   2. Las imprime en los logs en español
#   3. Se detiene con process.exit(0)
# El usuario debe copiar los valores aquí y reiniciar el servidor.
PASETO_PRIVATE_KEY=
PASETO_PUBLIC_KEY=
